{
  "code": "export default class BaseEventDispatcher {\r\n    constructor() {\r\n        this._dispatcher = new Laya.EventDispatcher();\r\n    }\r\n    once($event, $caller, $handler) {\r\n        if (!this._dispatcher)\r\n            return;\r\n        this._dispatcher.once($event.toString(), $caller, $handler);\r\n    }\r\n    on($event, $caller, $handler, $needCallFist = false) {\r\n        if (!this._dispatcher)\r\n            return;\r\n        this._dispatcher.on($event.toString(), $caller, $handler);\r\n        if ($needCallFist) {\r\n            const thiz = this;\r\n            $handler.call($caller, { event: $event.toString(), value: thiz[$event] });\r\n        }\r\n    }\r\n    off($event, $handler, $caller, $type = \"all\") {\r\n        if (!this._dispatcher)\r\n            return;\r\n        this._dispatcher.off($event.toString(), $caller, $handler, $type === \"once\");\r\n    }\r\n    offAllCaller($caller) {\r\n        if (!this._dispatcher)\r\n            return;\r\n        this._dispatcher.offAllCaller($caller);\r\n    }\r\n    get isValid() {\r\n        return !!this._dispatcher;\r\n    }\r\n    emit($event, $value) {\r\n        if (!this.isValid)\r\n            return;\r\n        const eventStr = $event.toString();\r\n        if (this._dispatcher.hasListener(eventStr)) {\r\n            const payload = {\r\n                event: eventStr,\r\n                value: $value\r\n            };\r\n            this._dispatcher.event(payload.event, payload);\r\n        }\r\n    }\r\n    hasListener($event) {\r\n        return this._dispatcher && this._dispatcher.hasListener($event.toString()) || false;\r\n    }\r\n    destroy() {\r\n        if (this._dispatcher) {\r\n            this._dispatcher.offAll();\r\n            this._dispatcher = null;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=BaseEventDispatcher.js.map",
  "references": [],
  "map": "{\"version\":3,\"file\":\"BaseEventDispatcher.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../JXSDK/src/jiexun/common/abstract/BaseEventDispatcher.ts\"],\"names\":[],\"mappings\":\"AAkBA,MAAM,CAAC,OAAO,OAAO,mBAAmB;IAEpC;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;IAClD,CAAC;IAQM,IAAI,CAAC,MAAa,EAAE,OAAgB,EAAE,QAA2C;QACpF,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IAChE,CAAC;IASM,EAAE,CAAC,MAAa,EAAE,OAAgB,EAAE,QAA2C,EAAE,aAAa,GAAG,KAAK;QACzG,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9B,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC1D,IAAI,aAAa,EAAE;YAEf,MAAM,IAAI,GAAQ,IAAI,CAAC;YACvB,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SAC7E;IACL,CAAC;IAUM,GAAG,CAAC,MAAa,EAAE,QAA2C,EAAE,OAAgB,EAAE,QAAwB,KAAK;QAClH,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,KAAK,MAAM,CAAC,CAAC;IACjF,CAAC;IAGM,YAAY,CAAC,OAAgB;QAChC,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAKD,IAAW,OAAO;QACd,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;IAC9B,CAAC;IAOM,IAAI,CAAC,MAAa,EAAE,MAAgB;QACvC,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE,OAAO;QAC1B,MAAM,QAAQ,GAAW,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC3C,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;YACxC,MAAM,OAAO,GAAkB;gBAC3B,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,MAAM;aAChB,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;SAClD;IACL,CAAC;IAGM,WAAW,CAAC,MAAa;QAC5B,OAAO,IAAI,CAAC,WAAW,IAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,IAAI,KAAK,CAAC;IACtF,CAAC;IAKM,OAAO;QACV,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;CAEJ\"}"
}
